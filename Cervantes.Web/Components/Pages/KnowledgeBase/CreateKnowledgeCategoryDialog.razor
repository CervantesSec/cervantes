@using Cervantes.CORE
@using Cervantes.Web.Localization
@using global::AuthPermissions.AspNetCore
@inject IStringLocalizer<Resource> localizer
@attribute [HasPermission(Permissions.KnowledgeBaseCategoryAdd)]


<MudDialog DisableSidePadding="true">
	<TitleContent>
		<MudText Typo="Typo.h4"><MudIcon Icon="@Icons.Material.Filled.Category" /> @localizer["createCategory"]</MudText>
	</TitleContent>
	<DialogContent>

		<MudForm Model="@model" @ref="@form" Validation="@(knowledgeValidator.ValidateValue)" ValidationDelay="0" method="dialog">

			<MudStack AlignItems="AlignItems.Stretch">
				<MudTextField @bind-Value="model.Name"
				              For="@(() => model.Name)"
				              Immediate="true"
				              Label="@localizer["name"]" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Category"/>
				<MudTextField @bind-Value="model.Description"  For="@(() => model.Description)" Label="@localizer["description"]" Lines="5" />
				<MudNumericField @bind-Value="model.Order" Label="@localizer["order"]" Min="1" Max="9999" />

			</MudStack>
		</MudForm>
	</DialogContent>
	<DialogActions>
		<MudButton OnClick="Cancel">@localizer["cancel"]</MudButton>
		<MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Add" Color="@Color.Primary" OnClick="Submit">@localizer["create"]</MudButton>
	</DialogActions>
</MudDialog>
